FROM python:3.11-slim

WORKDIR /app

COPY pipeline/requirements.txt pipeline/requirements.txt
RUN pip install --no-cache-dir -r pipeline/requirements.txt

COPY pipeline ./pipeline
COPY src ./src
COPY public ./public

ENV PYTHONUNBUFFERED=1

CMD ["python", "-m", "pipeline.main"]
